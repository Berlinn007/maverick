<!DOCTYPE html>
<html>
  <head>
    <script type="application/javascript">
      console.log("before load event attached");

      const user={};

      function submitHandler() {
        event.preventDefault();
        const form = document.getElementById("myform");
        const displayer = document.getElementById("display");        
        displayer.innerHTML=`<h1>${user.username}-${user.age}</h1>`;
      }

      
     function usernameBlurHandler(){
       const username= document.getElementById("username");
       user.username=username.value;
     }

     function ageBlurHandler(){
       const age= document.getElementById("age");
       user.age=age.value;
     }
     function domReadyHandler() {
        console.log("after dom loaded");
        const form = document.getElementById("myform");
        form.addEventListener("submit", submitHandler);
        const username= document.getElementById("username");
        username.addEventListener("blur",usernameBlurHandler);
        const age= document.getElementById("age");
        age.addEventListener("blur",ageBlurHandler); 
     }

      window.addEventListener("DOMContentLoaded", domReadyHandler);
      console.log("after load event attached");
      console.log("click handler attached");
    </script>
  </head>

  <body>
    <h1>Click button to change data</h1>
    <form id="myform">
      <label for="username">Username</label>
      <input id="username" name="username" />

      <br />
      <label for="age">Age</label>
      <input id="age" name="age" />

      <br />
      <button id="btn" type="submit">Click me</button>
    </form>

    <div id="display">        

    </div>

  </body>
</html>
